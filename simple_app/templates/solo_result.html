{% extends "base.html" %}
{% set active_page = "search" %}
{% block content %}
    <div class="fixed-top bg-primary" style="top: 55px; width: fit-content; color: white; position: fixed; left: 0">
        <h1 class="display-2">Full data for:<br> {{ query|safe }}</h1>
    </div>
    <div class="container flex-md-column">
        <div class="row">
            <h2 class="display-3">Sources</h2>
            <p class="display-6">
                {{ everything.sources|safe if everything.sources
                   else 'No Sources for ' + query|safe }}
            </p>
        </div>
        <div style="right: 0; top: 50px; position: fixed">
            <div id="aladin-lite-div"
                 style="width: 400px; height:400px"></div>
            <script type="text/javascript"
                    src="{{ url_for('static', filename='js/aladin.min.js') }}" charset="utf-8"></script>
            <script type="text/javascript">
                let aladin = A.aladin('#aladin-lite-div',
                    {survey: "P/2MASS/color", fov:1/120,
                     target: "{{ everything.ra }} {{ everything.dec }}"});
            </script>
        </div>
        <div class="row">
            <h2 class="display-3">Names</h2>
            <p class="display-6">
                {{ everything.names|safe if everything.names
                   else 'No Names for ' + query|safe }}
            </p>
        </div>

        <div class="row">
            <h2 class="display-3">Photometry</h2>
            <p class="display-6">
                {{ everything.photometry|safe if everything.photometry
                   else 'No Photometry for ' + query|safe }}
            </p>
            <div class="row" id="camdplot">
            <script>
                fetch('/camdplot')
                    .then(function(response) { return response.json(); })
                    .then(function(item) { return Bokeh.embed.embed_item(item); })
            </script>
            </div>
        </div>

        <div class="row">
            <h2 class="display-3">Spectral Types</h2>
            <p class="display-6">
                {{ everything.spectraltypes|safe if everything.spectraltypes
                   else 'No Spectral Types for ' + query|safe }}
            </p>
        </div>

        <div class="row">
            <h2 class="display-3">Radial Velocities</h2>
            <p class="display-6">
                {{ everything.radialvelocities|safe if everything.radialvelocities
                   else 'No Radial Velocities for ' + query|safe }}
            </p>
        </div>

        <div class="row">
            <h2 class="display-3">Parallaxes</h2>
            <p class="display-6">
                {{ everything.parallaxes|safe if everything.parallaxes
                   else 'No Parallaxes for ' + query|safe }}
            </p>
        </div>

        <div class="row">
            <h2 class="display-3">Proper Motions</h2>
            <p class="display-6">
                {{ everything.propermotions|safe if everything.propermotions
                   else 'No Proper Motions for ' + query|safe }}
            </p>
        </div>

        <div class="row">
            <h2 class="display-3">Gravities</h2>
            <p class="display-6">
                {{ everything.gravities|safe if everything.gravities else 'No Gravities for ' + query|safe }}
            </p>
        </div>
    </div>

{% endblock %}